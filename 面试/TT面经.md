## TT

#### 笔试

蛇形矩阵 秒ac

统计字符串 秒ac

还有一些杂七杂八的基础题

基本满分

#### 一面

1. **epoll的ET和LT有什么区别**

2. 服务器是怎么实现的(项目的大概框架)

3. **为什么不用select?**

4. **select一定比epoll差吗(我说linux发行版都支持select 不一定支持epoll , 兼容性)**

   **绝大部分都是活跃的.**

5. C++ 11了解吗, 讲一下 (讲了新的<mutex> <atomic> <thread>,auto lamba ,智能指针等等)

6. 知道C++ 11的move吗( 我说左值和右值的 blabla)

7. 俩C++类, 画一下内存布局 (简单)

8. class A

   {

   ​	virtual ~A(){}

   ​	int a;

   }

   class B :public A

   {

   }

9. **数据库了解吗,事务哪几个特性( 一致 隔离 原子)** 

   **可重复读, 可串行话化**

10. 数据库redo undo?

11. 接下来就是擅长的linux了

12. **你说你看了APUE, 你能描述一下发生系统调用具体过程吗? (随便讲了下内核什么的)**

    **中断 0x80 中断号 中断向量表 系统调用号** 

13. 进程和线程有什么区别 (先讲了一下概念, 然后我从写代码的角度讲了一下,从linux角度讲了一下)

14. 平时用linux多吗(我:Ubuntu 14.04 Ubuntu 18.04 Ubuntu 20.04 Centos 7.5 Centos  7.6 Centos 7.7 Centos  8.0都用过, 没说完就打断了哈哈哈)

15. 查看资源占用的命令 简单 top ps -ef之类的

16. **多核的时候 CPU占用100%正常吗 我说不正常...**

    **正常.** 

17. 为什么不保研?

18. Redis的问题.....

19. Mysql innoDB 引擎问题....

20. C++引用和指针什么区别 随便说了点(写的时候有差别)

21. C++空类, 编译器会生成啥(拷贝析构 赋值拷贝..)

22. C++内存布局

23. STL熟悉吗(我:贼熟 , 每个底层都知道... map set 八连 deque vector 链表)

24. HTTPS协议了解吗(我:不了解!)两个面试官:(对视一笑:好诚实

25. 还有一些基础问题

    后面就是在聊公司福利 , 实习可以做那些方向 基础架构 或者 业务



#### 二面

(上来直接怼项目, 被怼爆了)

1. epoll 的ET和LT有什么区别

2. **Reactor模型是什么, 还有什么其他的模型吗?你了解的都 讲一下, 说了下procator**

3. epoll的底层之类的深入问题, 内核管理 

4. HTTP状态机实现了什么(只实现了GET)

5. 对于HTTP头部的解析做了吗(没有, 选择性忽略 User-Agent 这类头部(boost库里好像有对应的)

6. **怎么对锁进行封装实现RAII的**

7. (项目)如果你的一个worker线程在读数据的时候, 4KB的数据只读了3KB怎么办? 计时器怎么设计(这题大概20分钟 ,一直改方案) 异步IO(我说是不是网络原因? 他说不一定) (我说把这个worker kill掉) (他说 这是个异步IO, 你怎么kill它 尴尬, 后来说了一大堆, 写了个controller, 为每个worker搞个定时器, 失败了就打在log里,worker读成功了就把controller里的state数组置true . 时间到了还没置true controller就认为worker失败了 worker继续接下一个epoll的任务)

8. 用过什么数据库(Mysql Redis) ,关系和非关系的都只有一个? (尴尬 是) ,他们有什么区别

9. **你知道什么是惊群吗? Apache服务器多个listener竞争的情况 , 我项目单listener没遇到**

   **(系统调用 listen fork) ( fork 之后listen)**

10. 讲一下你了解的微服务

11. **你用Redis来做什么?**

12. Redis的数据结构有哪些? 你用过哪些?

13. Redis内存数据库, 怎么管理内存碎片? (我自己设计了一个算法管理)

14. **Docker,K8s用来解决什么问题?**

15. **腾讯已经有自己的一套运维平台了, 为什么要K8s?( 我草, 好有道理)**

16. 刚刚你提到了Kafka,了解MQ吗(不了解) 我看你简历上写了啊( 我:绝对没写) 面试官仔细一看(真没找到)

17. MQ的应用场景? MQ主要用来解决什么问题( 我说在保证次序 不用加互斥锁 , 比较重量级, ) (其实还有解耦的考虑,JAVA和cpp代码通过MQ来通信)

18. **单机Mysql 10w qps, 读请求怎么解决? (我:分库分表,做个hash, 比如a-j的hash到 机器A, k到z的到 机器B), 手动负载均衡? 那跨表的查询怎么办?**

    **(我说, 范围查询单独开一台机器?) 后来面试官说外键还是啥的**

19. Mysql什么时候会性能会急剧退化? 俩个维度(单表大小, 记录条数) 比如10w条会退化, 从这两个角度回答一下

20. **刚才你分表, 这两台Mysql的数据一致性怎么解决?** 

21. 平时怎么调试(我说了log 注释 printf 断点 gdb) 他后来说远程怎么调试? (服务跑在另外一台机子上)

22. 了解设计模式吗?(我说我会单例, 其他的不精通,一面已经问过了) 他说没事 ,以后学 



这一面基本无基础题 上来就被问倒了QAQ

#### HR面

1.为什么不保研想工作

2.期望薪资

3.聊天





